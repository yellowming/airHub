{"version":3,"sources":["webpack:///./node_modules/vuetify/lib/components/VForm/VForm.js","webpack:///./src/views/User/form.vue?b4a7","webpack:///src/views/User/form.vue","webpack:///./src/views/User/form.vue?a1bb","webpack:///./src/views/User/form.vue"],"names":["mixins","BindsAttrs","RegistrableProvide","extend","name","inheritAttrs","props","lazyValidation","Boolean","value","data","inputs","watchers","errorBag","watch","handler","val","errors","Object","values","includes","this","$emit","deep","immediate","methods","watchInput","input","watcher","$watch","$set","_uid","valid","shouldValidate","hasOwnProperty","validate","filter","length","reset","forEach","resetErrorBag","setTimeout","resetValidation","register","push","unregister","found","find","i","unwatch","$delete","render","h","staticClass","attrs","novalidate","attrs$","on","submit","e","$slots","default","_vm","_h","$createElement","_c","_self","ref","model","callback","$$v","expression","directives","rawName","formData","domProps","$event","target","composing","rules","email","password","roles","roleList","staticRenderFns","mounted","component","VForm","VSelect","VTextField"],"mappings":"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","file":"js/chunk-ef748a08.7298f3ae.js","sourcesContent":["// Mixins\nimport mixins from '../../util/mixins';\nimport BindsAttrs from '../../mixins/binds-attrs';\nimport { provide as RegistrableProvide } from '../../mixins/registrable';\n/* @vue/component */\n\nexport default mixins(BindsAttrs, RegistrableProvide('form')\n/* @vue/component */\n).extend({\n  name: 'v-form',\n  inheritAttrs: false,\n  props: {\n    lazyValidation: Boolean,\n    value: Boolean\n  },\n  data: () => ({\n    inputs: [],\n    watchers: [],\n    errorBag: {}\n  }),\n  watch: {\n    errorBag: {\n      handler(val) {\n        const errors = Object.values(val).includes(true);\n        this.$emit('input', !errors);\n      },\n\n      deep: true,\n      immediate: true\n    }\n  },\n  methods: {\n    watchInput(input) {\n      const watcher = input => {\n        return input.$watch('hasError', val => {\n          this.$set(this.errorBag, input._uid, val);\n        }, {\n          immediate: true\n        });\n      };\n\n      const watchers = {\n        _uid: input._uid,\n        valid: () => {},\n        shouldValidate: () => {}\n      };\n\n      if (this.lazyValidation) {\n        // Only start watching inputs if we need to\n        watchers.shouldValidate = input.$watch('shouldValidate', val => {\n          if (!val) return; // Only watch if we're not already doing it\n\n          if (this.errorBag.hasOwnProperty(input._uid)) return;\n          watchers.valid = watcher(input);\n        });\n      } else {\n        watchers.valid = watcher(input);\n      }\n\n      return watchers;\n    },\n\n    /** @public */\n    validate() {\n      return this.inputs.filter(input => !input.validate(true)).length === 0;\n    },\n\n    /** @public */\n    reset() {\n      this.inputs.forEach(input => input.reset());\n      this.resetErrorBag();\n    },\n\n    resetErrorBag() {\n      if (this.lazyValidation) {\n        // Account for timeout in validatable\n        setTimeout(() => {\n          this.errorBag = {};\n        }, 0);\n      }\n    },\n\n    /** @public */\n    resetValidation() {\n      this.inputs.forEach(input => input.resetValidation());\n      this.resetErrorBag();\n    },\n\n    register(input) {\n      this.inputs.push(input);\n      this.watchers.push(this.watchInput(input));\n    },\n\n    unregister(input) {\n      const found = this.inputs.find(i => i._uid === input._uid);\n      if (!found) return;\n      const unwatch = this.watchers.find(i => i._uid === found._uid);\n\n      if (unwatch) {\n        unwatch.valid();\n        unwatch.shouldValidate();\n      }\n\n      this.watchers = this.watchers.filter(i => i._uid !== found._uid);\n      this.inputs = this.inputs.filter(i => i._uid !== found._uid);\n      this.$delete(this.errorBag, found._uid);\n    }\n\n  },\n\n  render(h) {\n    return h('form', {\n      staticClass: 'v-form',\n      attrs: {\n        novalidate: true,\n        ...this.attrs$\n      },\n      on: {\n        submit: e => this.$emit('submit', e)\n      }\n    }, this.$slots.default);\n  }\n\n});\n//# sourceMappingURL=VForm.js.map","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData._id),expression:\"formData._id\"}],attrs:{\"type\":\"hidden\"},domProps:{\"value\":(_vm.formData._id)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formData, \"_id\", $event.target.value)}}}),_c('v-text-field',{attrs:{\"label\":\"用户名\",\"rules\":_vm.rules.name},model:{value:(_vm.formData.name),callback:function ($$v) {_vm.$set(_vm.formData, \"name\", $$v)},expression:\"formData.name\"}}),_c('v-text-field',{attrs:{\"label\":\"邮箱\",\"rules\":_vm.rules.email,\"type\":\"email\"},model:{value:(_vm.formData.email),callback:function ($$v) {_vm.$set(_vm.formData, \"email\", $$v)},expression:\"formData.email\"}}),_c('v-text-field',{attrs:{\"label\":\"密码\",\"rules\":_vm.rules.password,\"type\":\"password\",\"autocomplete\":\"new-password\"},model:{value:(_vm.formData.password),callback:function ($$v) {_vm.$set(_vm.formData, \"password\", $$v)},expression:\"formData.password\"}}),_c('v-select',{attrs:{\"rules\":_vm.rules.roles,\"items\":_vm.roleList,\"item-text\":\"name\",\"item-value\":\"_id\",\"attach\":\"\",\"small-chips\":\"\",\"label\":\"角色\",\"multiple\":\"\"},model:{value:(_vm.formData.roles),callback:function ($$v) {_vm.$set(_vm.formData, \"roles\", $$v)},expression:\"formData.roles\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\r\n    <input type=\"hidden\" v-model=\"formData._id\"/>\r\n    <v-text-field label=\"用户名\" :rules=\"rules.name\" v-model=\"formData.name\"></v-text-field>\r\n    <v-text-field label=\"邮箱\" :rules=\"rules.email\" type=\"email\" v-model=\"formData.email\"></v-text-field>\r\n    <v-text-field label=\"密码\" :rules=\"rules.password\" type=\"password\" autocomplete=\"new-password\" v-model=\"formData.password\"></v-text-field>\r\n    <v-select\r\n      v-model=\"formData.roles\"\r\n      :rules=\"rules.roles\"\r\n      :items=\"roleList\"\r\n      item-text=\"name\"\r\n      item-value=\"_id\"\r\n      attach\r\n      small-chips\r\n      label=\"角色\"\r\n      multiple\r\n    ></v-select>\r\n  </v-form>\r\n</template>\r\n\r\n<script>\r\nimport { getRole } from '@/plugins/api'\r\nexport default {\r\n  data: () => ({\r\n    valid: true,\r\n    formData: {\r\n      _id: '',\r\n      name: '',\r\n      email: '',\r\n      password: '',\r\n      roles: []\r\n    },\r\n    roleList: [],\r\n    rules: {\r\n      email: [\r\n        v => !!v || '邮箱不能为空',\r\n        v => /.+@.+\\..+/.test(v) || '邮箱不合法'\r\n      ],\r\n      name: [\r\n        v => !!v || '用户名不能为空'\r\n      ],\r\n      password: [\r\n        v => !!v || '密码不能为空'\r\n      ],\r\n      roles: [\r\n        v => (v.length > 0) || '请选择'\r\n      ]\r\n    }\r\n  }),\r\n  mounted () {\r\n    getRole().then((data) => {\r\n      this.roleList = data.data.role\r\n    })\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./form.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./form.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./form.vue?vue&type=template&id=0182ee1e&\"\nimport script from \"./form.vue?vue&type=script&lang=js&\"\nexport * from \"./form.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VForm,VSelect,VTextField})\n"],"sourceRoot":""}